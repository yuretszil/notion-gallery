<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мінімальна галерея Swiper.js</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        .swiper {
            width: 300px;
            height: 200px;
        }
        .swiper-slide {
            background: #eee;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="swiper swiper-main">
        <div class="swiper-wrapper">
            <div class="swiper-slide">1</div>
            <div class="swiper-slide">2</div>
            <div class="swiper-slide">3</div>
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const swiperThumb = new Swiper('.swiper-thumb', {
    slidesPerView: 'auto',
    spaceBetween: 10,
    watchSlidesProgress: true,
    slideToClickedSlide: true,
});

const swiperMain = new Swiper('.swiper-main', {
    loop: true,
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    },
    thumbs: {
        swiper: swiperThumb,
    },
});

swiperMain.on('slideChange', function () {
    if (swiperThumb && swiperThumb.activeIndex !== undefined) {
        const thumbActiveClass = 'swiper-slide-thumb-active';
        const activeThumb = swiperThumb.slides[swiperMain.activeIndex];

        if (activeThumb) {
            swiperThumb.slideTo(swiperMain.activeIndex - Math.floor(swiperThumb.slidesPerView / 2), 300, false);
        }
    }
});

// Додатково, щоб при ініціалізації також центрувати першу мініатюру (якщо slidesPerView парне)
swiperMain.on('init', function () {
    if (swiperThumb && swiperThumb.activeIndex !== undefined && swiperThumb.params.slidesPerView % 2 === 0) {
        swiperThumb.slideTo(0, 0, false);
    } else if (swiperThumb && swiperThumb.activeIndex !== undefined) {
        swiperThumb.slideTo(0 - Math.floor(swiperThumb.slidesPerView / 2), 0, false);
    }
});
    </script>
</body>
</html>
